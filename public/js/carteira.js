validarCategoria("aluno");

var imgFundo = new Image(), imgPerfil = new Image();
imgFundo.src = "img/logo brigada claro.jpeg";

storageRef.child(`fotos/${usuario.uid}.txt`).getDownloadURL().then(url=>{
    $.get("https://cors-anywhere.herokuapp.com/" + url, imgPerfil=>{
        let doc = new jsPDF()
        .addImage(imgFundo, 18, 11)
        .addImage(imgFundo, 118.5, 11)
        .addImage(imgPerfil, 9, 34, 30, 40)
        .line(110, 59, 202, 59)
        .setDrawColor(200, 0, 0)
        .setLineWidth(2)
        .roundedRect(4, 4, 100, 75, 4, 4)
        .roundedRect(106, 4, 100, 75, 4, 4)
        .setLineWidth(.5)
        .roundedRect(9, 22, 90, 9, 2, 2)
        .roundedRect(43, 40, 56, 9, 2, 2)
        .roundedRect(111, 24, 32, 8, 2, 2)
        .roundedRect(143, 24, 37, 8, 2, 2)
        .roundedRect(180, 24, 21, 8, 2, 2)
        .roundedRect(111, 39, 28, 8, 2, 2)
        .roundedRect(139, 39, 62, 8, 2, 2)
        .text(usuario.dados.validade, 71, 46.5, "center")
        .setFontSize(14)
        .text(usuario.dados.nome, 54, 28.5, "center")
        .setFontSize(13)
        .text(usuario.dados.rg, 127, 29.5, "center")
        .text(usuario.dados.cpf, 161.5, 29.5, "center")
        .text(usuario.dados.tipo_sanguineo, 191, 29.5, "center")
        .text(usuario.dados.data_nascimento, 125, 44.5, "center")
        .setFontSize(12)
        .text(usuario.dados.formacao, 170, 44.5, "center")
        .setFontSize(11)
        .text("comercialanjosdavida@gmail.com", 71, 71, "center")
        .setFontSize(9)
        .text("CENTRO DE ENSINO PROFISSIONAL", 71, 60, "center")
        .text("ANJOS DA VIDA", 71, 64, "center")
        .text("Assinatura do Diretor", 155.5, 63, "center")
        .setFontStyle("bold")
        .text("Carteira Estudantil", 155.5, 9, "center")
        .text("Decreto Nº 8537", 155.5, 12.5, "center")
        .text("Leis 12852 e 12933 Dezembro 2013", 155.5, 16, "center")
        .text("Centro de Ensino Anjos da Vida", 155.5, 69, "center")
        .text("CNJ: 17.951.092/0001-98", 155.5, 72.5, "center")
        .text("Mat Municipal / RJ 056958-2", 155.5, 76, "center")
        .setTextColor(200, 0, 0)
        .text("Válido com apresentação de documento com foto", 54, 11, "center")
        .setFontSize(12)
        .text("Nome", 11, 21)
        .text("Validade", 45, 39)
        .setFontSize(11)
        .text("RG", 113, 23)
        .text("CPF", 145, 23)
        .text("Data Nasc.", 113, 38)
        .text("Formação", 141, 38)
        .setFontSize(10)
        .text("Tipo Sang.", 181, 23)
        .save("carteira.pdf");
    });
});